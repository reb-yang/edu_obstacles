---
title: "My First Tidy Tuesday: Taylor Swift"
author: "Rebecca Yang"
date: '2020-10-10'
slug: tidy-taylor-tuesday
categories:
  - Tidy Tuesday
  - R
tags: []
output: blogdown::html_page
---
There's not a lot of things I would consider myself an expert in — definitely not an expert in ggplot or making graphs. But, I am 100% confident in declaring myself an expert in all things Taylor Swift. 

Thus, it's only fitting that my very first Tidy Tuesday project is about Taylor Swift lyrics. This data comes from Rosie Baillie and Dr. Sara Stoudt. I was inspired by Rosie's original [post](https://rpubs.com/RosieB/taylorswiftlyricanalysis) (the bulk of my code is from her), where she analyzed sentiments and emotions for the songs and albums. 

I was interested in the sentiments associated with each track number (i.e. the first song on every album). As every Taylor fan knows, there is significance behind the location of a song within the album. Track 5 is probably the best example; it's well known as the most personal/sad/emotionally devastating song on the album. Case in point: "my tears ricochet" (folklore), "The Archer" (Lover), "Delicate" (reputation), "All You had to do was Stay (1989), "All Too Well" (Red — a masterpiece), "Dear John" (Speak Now), "White Horse" (Fearless), "Cold as You" (Taylor Swift). 

In my graph, I compared the number of "negative" words to "positive" words (as defined by the NRC dictionary) per track. It should be noted that not all albums have the same number of songs. 

Apparently, Track 5 doesn't quite live up to its reputation and may have some competition from Track 7. 

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, message = FALSE)
library(tidytext)
library(tidyverse)
library(stm)
library(quanteda)
library(wordcloud)
library(reshape2)
library(ggplot2)
library(geometry)
library(Rtsne)
library(rsvd)
library(syuzhet)
library(kableExtra)
library(textdata)
library(dplyr)
library(extrafont)
library(sysfonts)
library(ggimage)
library(imager)
library(magick)
library(gridExtra)

```



```{r}
taylor_swift_lyrics <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-09-29/taylor_swift_lyrics.csv')

taylor_swift_lyrics <- taylor_swift_lyrics %>% group_by(Album) %>% mutate(Track = row_number()) %>% ungroup() # making track numbers 

fearless_tracks <- c(14, 15, 11, 16:18, 1:10, 12, 13) # fixing Fearless track numbers because the deluxe version is out of order
taylor_swift_lyrics$Track[which(taylor_swift_lyrics$Album == "Fearless")] <-  fearless_tracks

data(stop_words)

tidy_swift <- taylor_swift_lyrics %>%
  unnest_tokens(word, Lyrics)  %>% 
   anti_join(stop_words, by=c("word"="word")) 

tidy_swift <- tidy_swift  %>%  filter(word != "ooh") %>% 
  filter(word != "yeah") %>% 
  filter(word != "ah") %>% 
  filter(word != "uh") %>% 
  filter(word != "ha") %>%
  filter(word != "whoa") %>%
  filter(word != "eh") %>%
  filter(word != "hoo") %>%
  filter(word != "ey") %>%
  filter(word != "mmm") %>% 
  filter(word != "eeh") %>% 
  filter(word != "huh") %>% 
  filter(word != "na")


word_count <- tidy_swift %>% 
  count(Title)

lyric_counts <- tidy_swift %>%
left_join(word_count, by = "Title") %>%
rename(total_words=n)

lyric_sentiment <- tidy_swift %>%
inner_join(get_sentiments("nrc"), by="word")

lyric_sentiment <- lyric_sentiment %>% mutate(Track = as.character(Track)) 

font_add_google("Bebas Neue")

mycols <- c("#2a7851",  "#e8967b", "#f7c743", "#c95d44","#4d75d1", "#9cbae3", "#cbeade", "#eab5ee", "#ef9da5", "#bcb1d6", "#f2a987", "#d8e1e5", "#eafbff", "#efe1bb")

graph <- lyric_sentiment  %>% 
  filter(sentiment == "negative" | sentiment == "positive") %>%
  group_by(Track,sentiment) %>% 
  count()  %>% 
  mutate(n = ifelse(sentiment == "negative", n*-1, n)) %>% 
  ggplot(aes(y =  Track, x = n, fill = sentiment)) + 
  geom_bar(stat="identity", show.legend = FALSE, width = 0.8) + 
  scale_y_discrete(limits = rev(as.character(1:19))) + 
  labs(x = "Negative vs. Positive Words", y = "Track Number", title = "Taylor Swift Song Sentiment Analysis", subtitle = "By Track Number", caption = "Photo Credit @taylorswift") + 
  theme_minimal() + 
  theme(aspect.ratio = 0.8, 
        text = element_text(family = "Bebas Neue"), 
        plot.title = element_text(hjust = 0.5, size = 26, margin = unit(c(0,0,0.3,0),"cm")),  
        plot.subtitle = element_text(hjust = 0.5, size = 26, margin = unit(c(0 ,0,0.8,0), "cm")), 
        axis.text.x = element_blank(), 
        panel.grid = element_blank(), 
        axis.text.y = element_text(size = 16), 
        axis.title = element_text(size = 18), 
        plot.margin =unit(c(0,1,0,1),"cm"),
        plot.title.position = "plot",
        plot.caption.position = "plot")  +  
  scale_fill_manual(values = mycols[c(4,2)]) + 
  scale_x_continuous(position = "top", limits = c(-150, 190))



img  <- "folklore_2.png"
graph2 <- ggbackground(graph, img)

```




```{r, fig.width= 6, fig.height = 6, fig.align="center"}
graph2
```

## Next Steps
I want to look into the sentiment and emotion breakdown for each Track 5 song, as well as what is making Track 7 come across so negatively.

*Will be updated*

## Codes Found Here
https://github.com/reb-yang/tidytuesday/tree/master/TaylorSwiftLyrics

